!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function o(t,r,c){return(o=n()?Reflect.construct:function(t,n,o){var r=[null];r.push.apply(r,n);var c=new(Function.bind.apply(t,r));return o&&e(c,o.prototype),c}).apply(null,arguments)}function r(n){var c="function"==typeof Map?new Map:void 0;return(r=function(n){if(null===n||-1===Function.toString.call(n).indexOf("[native code]"))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==c){if(c.has(n))return c.get(n);c.set(n,r)}function r(){return o(n,arguments,t(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e(r,n)})(n)}customElements.define("lite-youtube",function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.connectedCallback=function(){var t=this;this.videoId=encodeURIComponent(this.getAttribute("videoid"));var e=this.getAttribute("playlabel");this.playLabel=e?encodeURIComponent(e):"Play";var n=this.getAttribute("posterimage"),r=this.style.backgroundImage;this.posterUrl=n||(""!==r?o.getBackgroundImage(r):"https://i.ytimg.com/vi/"+this.videoId+"/hqdefault.jpg"),o.addPrefetch("preload",this.posterUrl,"image"),this.style.backgroundImage='url("'+this.posterUrl+'")';var c=this.querySelector(".lty-playbtn");c||((c=document.createElement("button")).type="button",c.classList.add("lty-playbtn"),c.title=decodeURIComponent(this.playLabel),this.append(c)),this.addEventListener("pointerover",o.warmConnections,{once:!0}),this.addEventListener("click",function(e){return t.addIframe()})},o.addPrefetch=function(t,e,n){var o=document.createElement("link");o.rel=t,o.href=e,n&&(o.as=n),document.head.append(o)},o.warmConnections=function(){o.preconnected||(o.addPrefetch("preconnect","https://www.youtube-nocookie.com"),o.addPrefetch("preconnect","https://www.google.com"),o.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),o.addPrefetch("preconnect","https://static.doubleclick.net"),o.preconnected=!0)},o.getBackgroundImage=function(t){console.log("getting url",t);var e=t.match(/url(("|')?.*("|'))\)/g)[0],n=e.indexOf('"')>0;return e.slice(n?e.indexOf('"')+1:e.indexOf("'")+1,-2)},r.addIframe=function(){var t=new URLSearchParams(this.getAttribute("params")||[]);t.append("autoplay","1");var e='\n<iframe width="560" height="315" frameborder="0"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://www.youtube-nocookie.com/embed/'+this.videoId+"?"+t.toString()+'"\n></iframe>';this.insertAdjacentHTML("beforeend",e),this.classList.add("lyt-activated")},o}(r(HTMLElement)))});
//# sourceMappingURL=lite-yt-embed.umd.js.map
